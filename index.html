<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Microlearn Bio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#15171A" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="app-header">
      <button class="icon-button back-button hidden" id="backButton" aria-label="Back">←</button>
      <div class="header-title">
        <span id="headerSubtitle" class="header-subtitle"></span>
        <h1 id="headerTitle" class="header-main"></h1>
      </div>
      <button class="icon-button" id="themeToggle" aria-label="Toggle theme">☾</button>
    </header>

    <main class="app-main">
      <!-- Screen 1: Level selection (AS / A2) -->
      <section id="screenLevels" class="screen active">
        <div class="hero">
          <h2>Microlearning for A-Level Biology</h2>
          <p>Swipe-style revision in tiny, human-sized pieces.</p>
        </div>
        <div class="card-grid">
          <button class="card card-select" data-level="as">
            <h3>AS Level</h3>
            <p>11 chapters · foundation concepts</p>
          </button>
          <button class="card card-select" data-level="a2">
            <h3>A2 Level</h3>
            <p>8 chapters · advanced topics</p>
          </button>
        </div>
      </section>

      <!-- Screen 2: Chapter list -->
      <section id="screenChapters" class="screen hidden">
        <div id="chaptersList" class="card-list"></div>
      </section>

      <!-- Screen 3: Chapter modes (Story / Questions / Difficult) -->
      <section id="screenChapter" class="screen hidden">
        <div class="tabs" id="modeTabs">
          <button class="tab active" data-mode="story">Story</button>
          <button class="tab" data-mode="questions">Questions</button>
          <button class="tab" data-mode="difficult">Difficult</button>
        </div>

        <div class="progress-wrapper">
          <div class="progress-label" id="progressLabel">0 / 0</div>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
        </div>

        <!-- Story mode content -->
        <div id="storyMode" class="mode-panel active">
          <div id="storyFeed" class="bubble-feed"></div>
        </div>

        <!-- Question mode content -->
        <div id="questionsMode" class="mode-panel hidden">
          <div id="questionArea" class="qa-wrapper"></div>
        </div>

        <!-- Difficult list content -->
        <div id="difficultMode" class="mode-panel hidden">
          <div id="difficultEmpty" class="empty-state">
            Nothing here yet. Tap the
            <span class="inline-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M2.5 5.5A2.5 2.5 0 0 1 5 3h6a2 2 0 0 1 2 2v16a2 2 0 0 0-2-2H5a2.5 2.5 0 0 0-2.5 2.5V5.5z" />
                <path d="M21.5 5.5A2.5 2.5 0 0 0 19 3h-6a2 2 0 0 0-2 2v16a2 2 0 0 1 2-2h6a2.5 2.5 0 0 1 2.5 2.5V5.5z" />
              </svg>
            </span>
            button to save anything you find difficult.
          </div>
          <ul id="difficultList" class="difficult-list"></ul>
        </div>

        <!-- Floating actions (Story + Questions only) -->
        <div id="actionDock" class="action-dock hidden" aria-label="Actions">
          <button id="actionLeft" class="fab fab--circle fab--secondary" aria-label="Add to Difficult" title="Add to Difficult">
            <svg class="fab__icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M2.5 5.5A2.5 2.5 0 0 1 5 3h6a2 2 0 0 1 2 2v16a2 2 0 0 0-2-2H5a2.5 2.5 0 0 0-2.5 2.5V5.5z" />
              <path d="M21.5 5.5A2.5 2.5 0 0 0 19 3h-6a2 2 0 0 0-2 2v16a2 2 0 0 1 2-2h6a2.5 2.5 0 0 1 2.5 2.5V5.5z" />
            </svg>
          </button>
          <button id="actionRight" class="fab fab--circle fab--primary" aria-label="OK" title="OK">OK</button>
        </div>
      </section>
    </main>
  </div>

  <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

  <script src="script.js" defer></script>
</body>
</html>
